<section>
  <form [formGroup]="searchingForm">
    <div class="filtering-container">
      <mat-form-field class="filter">
        <mat-label>Filter</mat-label>
        <input
          matInput
          [formControl]="controls.filter"
          placeholder="write something.."
        />
      </mat-form-field>
      <button class="button" mat-raised-button color="primary" type="submit">
        Search
      </button>
    </div>
    <div class="params">
      <mat-form-field class="">
        <mat-label>Min Price</mat-label>
        <input type="number" matInput [formControl]="controls.priceMin" />
      </mat-form-field>
      <mat-form-field class="">
        <mat-label>Max Price</mat-label>
        <input type="number" matInput [formControl]="controls.priceMax" />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Sort By</mat-label>
        <mat-select [formControl]="controls.sortBy">
          <mat-option value="NameAsc">Name - ascending </mat-option>
          <mat-option value="NameDesc">Name - descending </mat-option>
          <mat-option value="CategoryAsc">Category - ascending </mat-option>
          <mat-option value="CategoryDesc">Category - descending </mat-option>
          <mat-option value="DateAsc">Date - ascending </mat-option>
          <mat-option value="DateDesc">Date - descending </mat-option>
          <mat-option value="PriceAsc">Price - ascending</mat-option>
          <mat-option value="PriceDesc">Price - descending</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Category</mat-label>
        <mat-select [formControl]="controls.category">
          <mat-option [value]="''">All categories </mat-option>
          <ng-container *ngFor="let category of categories$ | async">
            <mat-option [value]="category.shortId"
              >{{ category.name }}
            </mat-option>
          </ng-container>
        </mat-select>
      </mat-form-field>
    </div>
  </form>

  <app-alert></app-alert>

  <div class="products-list">
    <app-product
      *ngFor="let product of products$ | async"
      [product]="product"
      (click)="selectProduct(product.uuid)"
    >
    </app-product>
  </div>
  <mat-paginator
    [pageSizeOptions]="[5, 10, 15]"
    [length]="totalCount$ | async"
    showFirstLastButtons
  ></mat-paginator>
</section>
